"0",""
"0","#Income, #Language, #Education, #Percent of Income on Rent"
"0",""
"0","vars <- c('B02001_001', #Total Population"
"0","          'B02001_002', #White Only"
"0","          'C16002_004', #Spanish, Limited English"
"0","          'C16002_007', #Other Indo-European languages:!!Limited English speaking household"
"0","          'C16002_010', #Asian and Pacific Island languages:!!Limited English speaking household"
"0","          'C16002_013', #Estimate!!Total:!!Other languages:!!Limited English speaking household"
"0","          'C16002_001', #Total"
"0","          'C16002_002', #English Only"
"0","          'B06009_002', #Less than graduate degree"
"0","          'B06009_003', #High School Gradaute"
"0","          'B06009_001', #Total"
"0","          'B06012_002',"
"0","          'B06012_001')"
"0",""
"0","process_acs <- function(state,level,vars,year){"
"0","  census_data <- tidycensus::get_acs(level,"
"0","                        variables = vars,"
"0","                        year = year,"
"0","                        state = state,"
"0","                        geometry = TRUE,"
"0","                        output = 'wide') %>%"
"0","    dplyr::select(ends_with('E'),GEOID)"
"0","  }"
"0",""
"0","census_tract <- rbind(process_acs('DE','tract',vars,2022),process_acs('PA','tract',vars,2022),process_acs('NJ','tract',vars,2022)) %>%"
"0","  st_transform(26918) %>%"
"0","  mutate (pct_minority = 100 - (B02001_002E / B02001_001E * 100),"
"0","            pct_non_english = (C16002_004E + C16002_007E + C16002_010E + C16002_013E)/C16002_001E * 100,"
"0","            pct_no_university = (B06009_002E + B06009_003E) / B06009_001E * 100,"
"0","            pct_poverty =  (B06012_002E / B06012_001E * 100),"
"0","            total_pop = B02001_001E)"
"2","Getting data from the 2018-2022 5-year ACS
"
"2","Using FIPS code '10' for state 'DE'
"
"2","Getting data from the 2018-2022 5-year ACS
"
"2","Using FIPS code '42' for state 'PA'
"
"2","Getting data from the 2018-2022 5-year ACS
"
"2","Using FIPS code '34' for state 'NJ'
"
"0","#Identify just census tracts in the DE River Basin"
"0",""
"0","basin_tracts <- st_centroid(census_tract) %>%"
"0","  st_intersection(., study_area) %>%"
"0","  dplyr::select(GEOID,NAME,pct_minority,pct_non_english,pct_poverty,pct_no_university,total_pop) %>%"
"0","  st_drop_geometry() %>%"
"0","  left_join(.,census_tract %>% dplyr::select (GEOID,geometry),by='GEOID') %>%"
"0","  st_as_sf()"
"2","Warning: st_centroid assumes attributes are constant over geometries"
"2","Warning: attribute variables are assumed to be spatially constant throughout all geometries"
