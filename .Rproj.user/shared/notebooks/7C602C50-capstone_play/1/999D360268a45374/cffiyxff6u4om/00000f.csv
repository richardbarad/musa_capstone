"0",""
"0","basin_tracts_3 <- basin_tracts_2 %>% erase_water()"
"2","Fetching area water data for your dataset's location...
"
"2","Erasing water area...
If this is slow, try a larger area threshold value.
"
"0","flood_study_area <- rbind(PA_flood,DE_flood,NJ_flood) %>% "
"0","  st_transform(26918) %>%"
"0","  st_union(.) %>%"
"0","  st_cast(.,""POLYGON"") %>% st_as_sf() %>% "
"0","  rename(geometry = x)"
"0",""
"0","tracts_flood <- st_intersection(basin_tracts_3,flood_study_area) %>%"
"0","  mutate(area = st_area(.)) %>%"
"0","  st_drop_geometry() %>%"
"0","  group_by(GEOID) %>% summarise(flood_area = sum(area)) %>%"
"0","  mutate(flood_area = as.numeric(flood_area) / 1000000)"
"2","Warning: attribute variables are assumed to be spatially constant throughout all geometries"
"0","basin_tracts_4 <- basin_tracts_3 %>%"
"0","  left_join(.,tracts_flood,by='GEOID') %>%"
"0","  mutate(flood_area = ifelse(is.na(flood_area),0,flood_area),"
"0","         area = (as.numeric(st_area(.)) / 1000000),"
"0","         flood_pct = flood_area / area * 100) %>%"
"0","  st_drop_geometry() %>%"
"0","  dplyr::select(GEOID,flood_pct) %>%"
"0","  left_join(basin_tracts_2,.,by='GEOID')"
